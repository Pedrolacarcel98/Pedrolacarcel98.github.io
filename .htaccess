RewriteEngine On

# ── 0) Si la petición es a un fichero o directorio existente, sirve tal cual
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# ── 1) Excluir incluidos header.html y footer.html (no los tocan las siguientes reglas)
RewriteRule ^(header|footer)\.html$ - [L,NC]

# ── 2) URLs “limpias”: /algo/ → algo.html
RewriteRule ^([^/.]+)/?$ $1.html [L]

# ── 3) Redirigir peticiones .html → /algo/ (301), salvo header/footer
RewriteCond %{REQUEST_URI} !^/(header|footer)\.html$ [NC]
RewriteRule ^(.+)\.html$ /$1/ [R=301,L]
